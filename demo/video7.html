<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>demo for vhs</title>
  <link href="https://cdn.jsdelivr.net/npm/video.js@7.1.0/dist/video-js.css" rel="stylesheet">
</head>
<body>
<video-js id="my_video_1" class="vjs-default-skin" controls preload="auto" width="640" height="268">
</video-js>
<script src="https://cdn.jsdelivr.net/npm/video.js@7.1.0/dist/alt/video.core.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@videojs/http-streaming@3.10.0/dist/videojs-http-streaming.min.js"></script>
<!-- p2p-plugin -->
<script src="https://cdn.jsdelivr.net/npm/swarmcloud-vhs@latest"></script>
<!--<script src="../dist/vhs-p2p-engine.min.js"></script>-->
<script>
  // this demo shows how this SDK works with videojs7 and videojs-http-streaming
  var engine;
  var player = videojs('my_video_1', {
    html5: {
      vhs: {
        overrideNative: true         // Enable p2p if the platform supports Media Source Extensions
      },
    }
  });

  player.on('xhr-hooks-ready', () => {
    if (engine) {
      engine.destroy();
    }
    engine = new P2PEngineVHS(player, {
      // trackerZone: 'hk',        // if using Hongkong tracker
      // trackerZone: 'us',        // if using USA tracker
      // token: YOUR_TOKEN
    })
  });

  player.src('https://test-streams.mux.dev/x36xhzz/url_8/193039199_mp4_h264_aac_fhd_7.m3u8')
  // player.src('https://cph-p2p-msl.akamaized.net/hls/live/2000341/test/master.m3u8')   // live
  player.play();


</script>
</body>
</html>
